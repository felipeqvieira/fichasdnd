<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ficha D&D 5e - Completa</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <header>
        <div class="header-top">
            <h2>Ficha de Personagem</h2>
            
            <div class="header-actions">
                <div class="mode-switch-container">
                    <span class="mode-label">Editar</span>
                    <label class="switch">
                        <input type="checkbox" id="modeToggle">
                        <span class="slider round"></span>
                    </label>
                    <span class="mode-label">Leitura</span>
                </div>

                <div class="separator-vertical"></div>

                <div class="file-actions">
                    <input type="file" id="importFile" accept=".json,.txt" class="hidden">
                    <button class="btn btn-outline" id="btnImport">üìÇ Carregar</button>
                    <button class="btn" id="btnExport">üíæ Salvar</button>
                    <button class="btn btn-danger" id="btnReset">üóëÔ∏è Resetar</button>
                </div>
            </div>
        </div>

        <div class="header-grid">
            <div class="header-item">
                <label>Nome do Personagem</label>
                <input type="text" id="charName" placeholder="Ex: Gandalf">
            </div>
            <div class="header-item">
                <label>Classe & N√≠vel</label>
                <input type="text" id="charClass" placeholder="Ex: Mago 5">
            </div>
            <div class="header-item">
                <label>Ra√ßa</label>
                <input type="text" id="charRace" placeholder="Ex: Elfo">
            </div>
            <div class="header-item">
                <label>Antecedente</label>
                <input type="text" id="charBackground" placeholder="Ex: S√°bio">
            </div>
        </div>
    </header>

    <nav class="tabs">
        <button class="tab-btn active" data-tab="main">Status</button>
        <button class="tab-btn" data-tab="combat">Combate</button>
        <button class="tab-btn" data-tab="abilities">Caracter√≠sticas</button> <button class="tab-btn" data-tab="spells">Magias</button> <button class="tab-btn" data-tab="inventory">Invent√°rio</button>
        <button class="tab-btn" data-tab="notes">Anota√ß√µes</button>
    </nav>

    <section id="main" class="tab-content">
        <div class="main-layout">
            <div class="left-column">
                <h3>Atributos Base</h3>
                <div class="grid-attrs">
                    <div class="attr-box"><div class="attr-label">For√ßa</div><div class="attr-mod" id="mod-str">+0</div><input type="number" id="attr-str" value="10" class="attr-input"></div>
                    <div class="attr-box"><div class="attr-label">Destreza</div><div class="attr-mod" id="mod-dex">+0</div><input type="number" id="attr-dex" value="10" class="attr-input"></div>
                    <div class="attr-box"><div class="attr-label">Constitui√ß√£o</div><div class="attr-mod" id="mod-con">+0</div><input type="number" id="attr-con" value="10" class="attr-input"></div>
                    <div class="attr-box"><div class="attr-label">Intelig√™ncia</div><div class="attr-mod" id="mod-int">+0</div><input type="number" id="attr-int" value="10" class="attr-input"></div>
                    <div class="attr-box"><div class="attr-label">Sabedoria</div><div class="attr-mod" id="mod-wis">+0</div><input type="number" id="attr-wis" value="10" class="attr-input"></div>
                    <div class="attr-box"><div class="attr-label">Carisma</div><div class="attr-mod" id="mod-cha">+0</div><input type="number" id="attr-cha" value="10" class="attr-input"></div>
                </div>

                <div class="stats-grid">
                    <div class="card"><label>Classe de Armadura</label><input type="number" id="ac" value="10"></div>
                    <div class="card"><label>Iniciativa</label><input type="number" id="initiative" value="0"></div>
                    <div class="card"><label>Deslocamento</label><input type="text" id="speed" value="9m"></div>
                    <div class="card"><label>Profici√™ncia</label><input type="number" id="profBonus" value="2"></div>
                </div>

                <div class="card">
                    <h3>Sentidos Passivos</h3>
                    <div class="flex-row">
                        <div class="flex-1">Percep√ß√£o: <strong id="passive-perception">10</strong></div>
                        <div class="flex-1">Investiga√ß√£o: <strong id="passive-investigation">10</strong></div>
                    </div>
                </div>
            </div>

            <div class="right-column skills-panel">
                <div class="skills-header">
                    <button class="sub-tab-btn active" id="btn-view-skills" onclick="toggleSkills('skills')">Per√≠cias</button>
                    <button class="sub-tab-btn" id="btn-view-saves" onclick="toggleSkills('saves')">Salvaguardas</button>
                </div>

                <div id="view-skills" class="skills-list">
                    <div class="skill-row"><input type="checkbox" id="skill-atletismo"><span class="skill-val" id="val-atletismo">+0</span><span class="skill-name">Atletismo <small>(For)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-acrobacia"><span class="skill-val" id="val-acrobacia">+0</span><span class="skill-name">Acrobacia <small>(Des)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-furtividade"><span class="skill-val" id="val-furtividade">+0</span><span class="skill-name">Furtividade <small>(Des)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-prestidigitacao"><span class="skill-val" id="val-prestidigitacao">+0</span><span class="skill-name">Prestidigita√ß√£o <small>(Des)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-arcanismo"><span class="skill-val" id="val-arcanismo">+0</span><span class="skill-name">Arcanismo <small>(Int)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-historia"><span class="skill-val" id="val-historia">+0</span><span class="skill-name">Hist√≥ria <small>(Int)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-investigacao"><span class="skill-val" id="val-investigacao">+0</span><span class="skill-name">Investiga√ß√£o <small>(Int)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-natureza"><span class="skill-val" id="val-natureza">+0</span><span class="skill-name">Natureza <small>(Int)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-religiao"><span class="skill-val" id="val-religiao">+0</span><span class="skill-name">Religi√£o <small>(Int)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-lidar-animais"><span class="skill-val" id="val-lidar-animais">+0</span><span class="skill-name">Lidar com Animais <small>(Sab)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-intuicao"><span class="skill-val" id="val-intuicao">+0</span><span class="skill-name">Intui√ß√£o <small>(Sab)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-medicina"><span class="skill-val" id="val-medicina">+0</span><span class="skill-name">Medicina <small>(Sab)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-percepcao"><span class="skill-val" id="val-percepcao">+0</span><span class="skill-name">Percep√ß√£o <small>(Sab)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-sobrevivencia"><span class="skill-val" id="val-sobrevivencia">+0</span><span class="skill-name">Sobreviv√™ncia <small>(Sab)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-atuacao"><span class="skill-val" id="val-atuacao">+0</span><span class="skill-name">Atua√ß√£o <small>(Car)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-enganacao"><span class="skill-val" id="val-enganacao">+0</span><span class="skill-name">Engana√ß√£o <small>(Car)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-intimidacao"><span class="skill-val" id="val-intimidacao">+0</span><span class="skill-name">Intimida√ß√£o <small>(Car)</small></span></div>
                    <div class="skill-row"><input type="checkbox" id="skill-persuasao"><span class="skill-val" id="val-persuasao">+0</span><span class="skill-name">Persuas√£o <small>(Car)</small></span></div>
                </div>

                <div id="view-saves" class="skills-list hidden">
                    <p style="font-size:0.85em; color:var(--text-muted); margin:0 0 10px 0;">Marque a caixa se tiver profici√™ncia.</p>
                    <div class="skill-row"><input type="checkbox" id="save-str"><span class="skill-val" id="val-save-str">+0</span><span class="skill-name">For√ßa</span></div>
                    <div class="skill-row"><input type="checkbox" id="save-dex"><span class="skill-val" id="val-save-dex">+0</span><span class="skill-name">Destreza</span></div>
                    <div class="skill-row"><input type="checkbox" id="save-con"><span class="skill-val" id="val-save-con">+0</span><span class="skill-name">Constitui√ß√£o</span></div>
                    <div class="skill-row"><input type="checkbox" id="save-int"><span class="skill-val" id="val-save-int">+0</span><span class="skill-name">Intelig√™ncia</span></div>
                    <div class="skill-row"><input type="checkbox" id="save-wis"><span class="skill-val" id="val-save-wis">+0</span><span class="skill-name">Sabedoria</span></div>
                    <div class="skill-row"><input type="checkbox" id="save-cha"><span class="skill-val" id="val-save-cha">+0</span><span class="skill-name">Carisma</span></div>
                </div>
            </div>
        </div>
    </section>

    <section id="combat" class="tab-content hidden">
        <div class="card border-danger">
            <h3>Pontos de Vida (PV)</h3>
            <div class="hp-wrapper">
                <div class="hp-input-group"><label>Atual</label><input type="number" id="hp-current" value="10"></div>
                <div class="hp-divider">/</div>
                <div class="hp-input-group"><label>M√°ximo</label><input type="number" id="hp-max" value="10"></div>
            </div>
            <div class="health-bar-bg"><div class="health-bar-fill" id="hp-bar"></div></div>
            <div class="hp-controls">
                <div><button class="btn btn-danger btn-small" data-hp-mod="-1">-1</button><button class="btn btn-danger btn-small" data-hp-mod="-5">-5</button></div>
                <span class="text-muted">Dano / Cura</span>
                <div><button class="btn btn-success btn-small" data-hp-mod="1">+1</button><button class="btn btn-success btn-small" data-hp-mod="5">+5</button></div>
            </div>
            <div class="temp-hp-box"><label>PV Tempor√°rio</label><input type="number" id="hp-temp" value="0"></div>
        </div>
        <div class="card">
            <div class="card-header">
                <h3>Ataques & Armas</h3>
                <button class="btn btn-small" id="btnAddAttack">+ Arma</button>
            </div>
            <div id="attacks-list" class="dynamic-list"></div>
        </div>
    </section>

    <section id="abilities" class="tab-content hidden">
        <div class="card">
            <div class="card-header">
                <h3>Recursos (Ki, F√∫ria, Slots)</h3>
                <button class="btn btn-small" id="btnAddResource">+ Recurso</button>
            </div>
            <div id="resources-list" class="dynamic-list"></div>
        </div>

        <div class="card">
            <div class="card-header">
                <h3>Talentos & Caracter√≠sticas</h3>
                <button class="btn btn-small" id="btnAddFeature">+ Caracter√≠stica</button>
            </div>
            <div class="filter-toolbar">
                <input type="text" id="featureSearch" placeholder="üîç Buscar talento..." class="search-input">
                <select id="featureFilter" class="filter-select">
                    <option value="all">Todas</option>
                    <option value="Classe">Classe</option>
                    <option value="Ra√ßa">Ra√ßa</option>
                    <option value="Talento">Talento</option>
                    <option value="Maestria">Maestria</option>
                    <option value="Outro">Outro</option>
                </select>
            </div>
            <div id="features-list" class="dynamic-list"></div>
        </div>
    </section>

    <section id="spells" class="tab-content hidden">
        <div class="card">
            <div class="card-header">
                <h3>Grim√≥rio / Magias</h3>
                <button class="btn btn-small" id="btnAddSpell">+ Magia</button>
            </div>
            <div class="filter-toolbar">
                <input type="text" id="spellSearch" placeholder="üîç Buscar magia..." class="search-input">
                <select id="spellFilter" class="filter-select">
                    <option value="all">Todos os C√≠rculos</option>
                    <option value="Truque">Truques</option>
                    <option value="1¬∫ C√≠rculo">1¬∫ C√≠rculo</option>
                    <option value="2¬∫ C√≠rculo">2¬∫ C√≠rculo</option>
                    <option value="3¬∫ C√≠rculo">3¬∫ C√≠rculo</option>
                    <option value="4¬∫ C√≠rculo">4¬∫ C√≠rculo</option>
                    <option value="5¬∫ C√≠rculo">5¬∫ C√≠rculo</option>
                    <option value="6¬∫ C√≠rculo">6¬∫ C√≠rculo</option>
                    <option value="7¬∫ C√≠rculo">7¬∫ C√≠rculo</option>
                    <option value="8¬∫ C√≠rculo">8¬∫ C√≠rculo</option>
                    <option value="9¬∫ C√≠rculo">9¬∫ C√≠rculo</option>
                </select>
            </div>
            <div id="spells-list" class="dynamic-list"></div>
        </div>
    </section>

    <section id="inventory" class="tab-content hidden">
        <div class="card">
            <div class="card-header">
                <h3>Equipamento</h3>
                <button class="btn btn-small" id="btnAddItem">+ Item</button>
            </div>
            <div class="filter-toolbar">
                <input type="text" id="inventorySearch" placeholder="üîç Buscar item..." class="search-input">
                <select id="inventoryFilter" class="filter-select">
                    <option value="all">Todos os Tipos</option>
                    <option value="Geral">Geral</option>
                    <option value="Arma">Arma</option>
                    <option value="Armadura">Armadura</option>
                    <option value="Po√ß√£o">Po√ß√£o</option>
                    <option value="Item M√°gico">Item M√°gico</option>
                    <option value="Ferramenta">Ferramenta</option>
                    <option value="Tesouro">Tesouro</option>
                </select>
            </div>
            <div class="inventory-header">
                <div class="qty-col">Qtd</div>
                <div class="name-col">Nome / Categoria</div>
                <div class="action-col"></div>
            </div>
            <div id="inventory-list" class="dynamic-list"></div>
        </div>
        <div class="card">
            <label>Dinheiro</label>
            <textarea id="currency" rows="2" placeholder="Ex: 15 PO"></textarea>
        </div>
    </section>

    <section id="notes" class="tab-content hidden">
        <div class="card">
            <h3>Anota√ß√µes</h3>
            <textarea id="general-notes" rows="15"></textarea>
        </div>
    </section>
</div>
<script src="script.js"></script>
</body>
</html>